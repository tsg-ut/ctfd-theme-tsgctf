(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{403:function(t,e,r){var content=r(405);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(72).default)("500caa6b",content,!0,{sourceMap:!1})},404:function(t,e,r){"use strict";var n=r(403);r.n(n).a},405:function(t,e,r){(t.exports=r(71)(!1)).push([t.i,"@-webkit-keyframes v-pulseStretchDelay{0%,80%{-webkit-transform:scale(1);transform:scale(1);-webkit-opacity:1;opacity:1}45%{-webkit-transform:scale(.1);transform:scale(.1);-webkit-opacity:.7;opacity:.7}}@keyframes v-pulseStretchDelay{0%,80%{-webkit-transform:scale(1);transform:scale(1);-webkit-opacity:1;opacity:1}45%{-webkit-transform:scale(.1);transform:scale(.1);-webkit-opacity:.7;opacity:.7}}",""])},406:function(t,e,r){"use strict";var n={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},o=(r(404),r(30)),component=Object(o.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-pulse v-pulse1",style:[this.spinnerStyle,this.spinnerDelay1]}),e("div",{staticClass:"v-pulse v-pulse2",style:[this.spinnerStyle,this.spinnerDelay2]}),e("div",{staticClass:"v-pulse v-pulse3",style:[this.spinnerStyle,this.spinnerDelay3]})])},[],!1,null,null,null);e.a=component.exports},416:function(t,e,r){var content=r(447);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(72).default)("64b724a7",content,!0,{sourceMap:!1})},442:function(t,e,r){var n=r(7),o=r(182)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},443:function(t,e,r){var n=r(444);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},444:function(t,e,r){var n=r(183),o=r(445);t.exports=function t(e,r,m,l,c){var f=-1,v=e.length;for(m||(m=o),c||(c=[]);++f<v;){var d=e[f];r>0&&m(d)?r>1?t(d,r-1,m,l,c):n(c,d):l||(c[c.length]=d)}return c}},445:function(t,e,r){var n=r(52),o=r(113),m=r(18),l=n?n.isConcatSpreadable:void 0;t.exports=function(t){return m(t)||o(t)||!!(l&&t&&t[l])}},446:function(t,e,r){"use strict";var n=r(416);r.n(n).a},447:function(t,e,r){(t.exports=r(71)(!1)).push([t.i,".Settings{text-align:center}.Settings .title{margin-bottom:0}.Settings .subtitle{font-size:2rem;font-family:Fredoka One,cursive;font-weight:300;text-align:center;text-transform:uppercase;letter-spacing:1px;margin-top:3rem;margin-bottom:1rem;word-break:break-word}.Settings .subtitle a{color:#90cbff}.Settings .form-group{display:flex;justify-content:center;line-height:2rem;padding:.6rem 0;align-items:center}.Settings label{font-size:1rem;flex:0 0 10rem;width:10rem;text-align:right;padding-right:1rem}.Settings .form-control{flex:1 1 0;width:0;font-size:1.2rem;max-width:20rem}.Settings .result{font-size:1.5rem;font-family:Fredoka One,cursive;font-weight:300}.Settings .result .success{color:#45d823}.Settings .result .errors{color:#f44336;padding:0;line-height:2rem}.Settings button[type=submit]{width:10rem;margin:1rem 0}",""])},471:function(t,e,r){"use strict";r.r(e);r(17),r(16),r(442),r(12);var n=r(2),o=r(4),m=r(406),l=r(443),c=r.n(l),f=r(38),v={components:{PulseLoader:m.a},data:function(){return{userForm:{name:"",email:"",confirm:"",password:"",affiliation:"",website:"",country:"",isSuccess:!1,isSubmitting:!1,errors:[]},teamForm:{name:"",confirm:"",password:"",affiliation:"",website:"",country:"",isSuccess:!1,isSubmitting:!1,errors:[]}}},computed:Object(o.a)({},Object(f.c)(["isLoggedIn","isInTeam","csrfToken","user","team","countries"])),watch:{user:function(t){Object.assign(this.userForm,t)},team:function(t){Object.assign(this.teamForm,t)}},asyncData:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.dispatch("updateCsrfToken",e);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),mounted:function(){this.isLoggedIn?(Object.assign(this.userForm,this.user),Object.assign(this.teamForm,this.team)):this.$router.push({path:"/login"})},methods:{onSubmitUser:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(e){var form,r,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),form=new FormData(e.target),this.userForm.isSubmitting=!0,this.userForm.isSuccess=!1,this.userForm.errors=[],t.next=7,this.$axios.patch("/api/v1/users/me",Object.fromEntries(form),{headers:{"content-type":"application/json"},validateStatus:null});case 7:if(r=t.sent,data=r.data,this.userForm.isSubmitting=!1,!data.success){t.next=16;break}return this.userForm.isSuccess=!0,t.next=14,this.$store.dispatch("updateUser",{$axios:this.$axios});case 14:t.next=17;break;case 16:this.userForm.errors=c()(Object.values(data.errors));case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onSubmitTeam:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(e){var form,r,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),form=new FormData(e.target),this.teamForm.isSubmitting=!0,this.teamForm.isSuccess=!1,this.teamForm.errors=[],t.next=7,this.$axios.patch("/api/v1/teams/me",Object.fromEntries(form),{headers:{"content-type":"application/json"},validateStatus:null});case 7:if(r=t.sent,data=r.data,this.teamForm.isSubmitting=!1,!data.success){t.next=16;break}return this.teamForm.isSuccess=!0,t.next=14,this.$store.dispatch("updateTeam",{$axios:this.$axios});case 14:t.next=17;break;case 16:this.teamForm.errors=c()(Object.values(data.errors));case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},head:function(){return{title:"Settings - TSG CTF"}}},d=(r(446),r(30)),component=Object(d.a)(v,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"Settings"},[t._m(0),t._v(" "),r("div",{staticClass:"subtitle"},[t._v("\n\t\tUser settings\n\t")]),t._v(" "),r("form",{attrs:{id:"user-settings-form",method:"post","accept-charset":"utf-8",autocomplete:"off",role:"form"},on:{submit:t.onSubmitUser}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-name-input"}},[t._v("\n\t\t\t\tUser Name\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.name,expression:"userForm.name"}],staticClass:"form-control",attrs:{id:"user-name-input",type:"text",name:"name"},domProps:{value:t.userForm.name},on:{input:function(e){e.target.composing||t.$set(t.userForm,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-email-input"}},[t._v("\n\t\t\t\tEmail\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.email,expression:"userForm.email"}],staticClass:"form-control",attrs:{id:"user-email-input",type:"email",name:"email"},domProps:{value:t.userForm.email},on:{input:function(e){e.target.composing||t.$set(t.userForm,"email",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-confirm-input"}},[t._v("\n\t\t\t\tCurrent Password\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.confirm,expression:"userForm.confirm"}],staticClass:"form-control",attrs:{id:"user-confirm-input",type:"password",name:"confirm"},domProps:{value:t.userForm.confirm},on:{input:function(e){e.target.composing||t.$set(t.userForm,"confirm",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-password-input"}},[t._v("\n\t\t\t\tNew Password\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.password,expression:"userForm.password"}],staticClass:"form-control",attrs:{id:"user-password-input",type:"password",name:"password"},domProps:{value:t.userForm.password},on:{input:function(e){e.target.composing||t.$set(t.userForm,"password",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-affiliation-input"}},[t._v("\n\t\t\t\tAffiliation\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.affiliation,expression:"userForm.affiliation"}],staticClass:"form-control",attrs:{id:"user-affiliation-input",type:"text",name:"affiliation"},domProps:{value:t.userForm.affiliation},on:{input:function(e){e.target.composing||t.$set(t.userForm,"affiliation",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-website-input"}},[t._v("\n\t\t\t\tWebsite\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.website,expression:"userForm.website"}],staticClass:"form-control",attrs:{id:"user-website-input",type:"url",name:"website"},domProps:{value:t.userForm.website},on:{input:function(e){e.target.composing||t.$set(t.userForm,"website",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"user-country-input"}},[t._v("\n\t\t\t\tCountry\n\t\t\t")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.userForm.country,expression:"userForm.country"}],staticClass:"form-control",attrs:{id:"user-country-input",name:"country"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.userForm,"country",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}}),t._v(" "),t._l(t.countries,function(e){var code=e[0],n=e[1];return r("option",{key:code,domProps:{value:code}},[t._v("\n\t\t\t\t\t"+t._s(n)+"\n\t\t\t\t")])})],2)]),t._v(" "),r("div",{staticClass:"form-group"},[t.userForm.isSubmitting?r("pulse-loader",{attrs:{color:"white"}}):r("button",{attrs:{id:"user-submit",type:"submit",tabindex:"5"}},[t._v("\n\t\t\t\tSubmit\n\t\t\t")])],1),t._v(" "),r("div",{staticClass:"result"},[t.userForm.isSuccess?r("span",{staticClass:"success"},[t._v("\n\t\t\t\tYour profile has been updated\n\t\t\t")]):t._e(),t._v(" "),t.userForm.errors.length>0?r("ul",{staticClass:"errors"},t._l(t.userForm.errors,function(e){return r("li",{key:e},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])}),0):t._e()])]),t._v(" "),t.isInTeam?r("div",{staticClass:"subtitle"},[t._v("\n\t\tTeam settings\n\t")]):t._e(),t._v(" "),t.isInTeam?r("form",{attrs:{id:"team-settings-form",method:"post","accept-charset":"utf-8",autocomplete:"off",role:"form"},on:{submit:t.onSubmitTeam}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"team-name-input"}},[t._v("\n\t\t\t\tTeam Name\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.name,expression:"teamForm.name"}],staticClass:"form-control",attrs:{id:"team-name-input",type:"text",name:"name"},domProps:{value:t.teamForm.name},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"team-confirm-input"}},[t._v("\n\t\t\t\tCurrent Password\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.confirm,expression:"teamForm.confirm"}],staticClass:"form-control",attrs:{id:"team-confirm-input",type:"password",name:"confirm"},domProps:{value:t.teamForm.confirm},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"confirm",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"team-password-input"}},[t._v("\n\t\t\t\tNew Password\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.password,expression:"teamForm.password"}],staticClass:"form-control",attrs:{id:"team-password-input",type:"password",name:"password"},domProps:{value:t.teamForm.password},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"password",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"team-affiliation-input"}},[t._v("\n\t\t\t\tAffiliation\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.affiliation,expression:"teamForm.affiliation"}],staticClass:"form-control",attrs:{id:"team-affiliation-input",type:"text",name:"affiliation"},domProps:{value:t.teamForm.affiliation},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"affiliation",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"team-website-input"}},[t._v("\n\t\t\t\tWebsite\n\t\t\t")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.website,expression:"teamForm.website"}],staticClass:"form-control",attrs:{id:"team-website-input",type:"url",name:"website"},domProps:{value:t.teamForm.website},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"website",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"team-country-input"}},[t._v("\n\t\t\t\tCountry\n\t\t\t")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.country,expression:"teamForm.country"}],staticClass:"form-control",attrs:{id:"team-country-input",name:"country"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.teamForm,"country",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}}),t._v(" "),t._l(t.countries,function(e){var code=e[0],n=e[1];return r("option",{key:code,domProps:{value:code}},[t._v("\n\t\t\t\t\t"+t._s(n)+"\n\t\t\t\t")])})],2)]),t._v(" "),r("div",{staticClass:"form-group"},[t.teamForm.isSubmitting?r("pulse-loader",{attrs:{color:"white"}}):r("button",{attrs:{id:"team-submit",type:"submit",tabindex:"5"}},[t._v("\n\t\t\t\tSubmit\n\t\t\t")])],1),t._v(" "),r("div",{staticClass:"result"},[t.teamForm.isSuccess?r("span",{staticClass:"success"},[t._v("\n\t\t\t\tYour profile has been updated\n\t\t\t")]):t._e(),t._v(" "),t.teamForm.errors.length>0?r("ul",{staticClass:"errors"},t._l(t.teamForm.errors,function(e){return r("li",{key:e},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])}),0):t._e()])]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title"},[e("span",[this._v("Settings")])])}],!1,null,null,null);e.default=component.exports}}]);
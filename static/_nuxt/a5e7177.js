(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{583:function(t,e,r){var content=r(585);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(152).default)("6be981e3",content,!0,{sourceMap:!1})},584:function(t,e,r){"use strict";r(583)},585:function(t,e,r){var n=r(151)((function(i){return i[1]}));n.push([t.i,"@keyframes v-pulseStretchDelay{0%,80%{-webkit-opacity:1;opacity:1;transform:scale(1)}45%{-webkit-opacity:.7;opacity:.7;transform:scale(.1)}}",""]),n.locals={},t.exports=n},589:function(t,e,r){"use strict";var n={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},o=(r(584),r(60)),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-pulse v-pulse1",style:[t.spinnerStyle,t.spinnerDelay1]}),e("div",{staticClass:"v-pulse v-pulse2",style:[t.spinnerStyle,t.spinnerDelay2]}),e("div",{staticClass:"v-pulse v-pulse3",style:[t.spinnerStyle,t.spinnerDelay3]})])}),[],!1,null,null,null);e.a=component.exports},606:function(t,e,r){var content=r(644);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(152).default)("37647852",content,!0,{sourceMap:!1})},638:function(t,e,r){"use strict";var n=r(1),o=r(100),m=r(83);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,r){m(e,t,r)}),{AS_ENTRIES:!0}),e}})},639:function(t,e,r){"use strict";var n=r(1),o=r(328).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},640:function(t,e,r){var n=r(641);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},641:function(t,e,r){var n=r(331),o=r(642);t.exports=function t(e,r,m,l,c){var f=-1,v=e.length;for(m||(m=o),c||(c=[]);++f<v;){var d=e[f];r>0&&m(d)?r>1?t(d,r-1,m,l,c):n(c,d):l||(c[c.length]=d)}return c}},642:function(t,e,r){var n=r(119),o=r(203),m=r(55),l=n?n.isConcatSpreadable:void 0;t.exports=function(t){return m(t)||o(t)||!!(l&&t&&t[l])}},643:function(t,e,r){"use strict";r(606)},644:function(t,e,r){var n=r(151)((function(i){return i[1]}));n.push([t.i,'.Settings{text-align:center}.Settings .title{margin-bottom:0}.Settings .subtitle{font-family:"Fredoka One",cursive;font-size:2rem;font-weight:300;letter-spacing:1px;margin-bottom:1rem;margin-top:3rem;text-align:center;text-transform:uppercase;word-break:break-word}.Settings .subtitle a{color:#90cbff}.Settings .form-group{align-items:center;display:flex;justify-content:center;line-height:2rem;padding:.6rem 0}.Settings label{flex:0 0 10rem;font-size:1rem;padding-right:1rem;text-align:right;width:10rem}.Settings .form-control{flex:1 1 0;font-size:1.2rem;max-width:20rem;width:0}.Settings .result{font-family:"Fredoka One",cursive;font-size:1.5rem;font-weight:300}.Settings .result .success{color:#45d823}.Settings .result .errors{color:#f44336;line-height:2rem;padding:0}.Settings button[type=submit]{margin:1rem 0;width:10rem}',""]),n.locals={},t.exports=n},664:function(t,e,r){"use strict";r.r(e);var n=r(22),o=(r(45),r(40),r(28),r(15),r(35),r(23),r(37),r(26),r(38),r(13)),m=r(4),l=(r(39),r(81),r(638),r(639),r(29),r(589)),c=r(640),f=r.n(c),v=r(53);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var w={components:{PulseLoader:l.a},asyncData:function(t){return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.store.dispatch("updateCsrfToken",t);case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{userForm:{name:"",email:"",confirm:"",password:"",affiliation:"",website:"",country:"",isSuccess:!1,isSubmitting:!1,errors:[]},teamForm:{name:"",confirm:"",password:"",affiliation:"",website:"",country:"",isSuccess:!1,isSubmitting:!1,errors:[]}}},head:function(){return{title:"Settings - TSG CTF"}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(v.c)(["isLoggedIn","isInTeam","csrfToken","user","team","countries"])),watch:{user:function(t){Object.assign(this.userForm,t)},team:function(t){Object.assign(this.teamForm,t)}},mounted:function(){this.isLoggedIn?(Object.assign(this.userForm,this.user),Object.assign(this.teamForm,this.team)):this.$router.replace({path:"/login"})},methods:{onSubmitUser:function(t){var e=this;return Object(m.a)(regeneratorRuntime.mark((function r(){var form,n,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),form=new FormData(t.target),e.userForm.isSubmitting=!0,e.userForm.isSuccess=!1,e.userForm.errors=[],r.next=7,e.$axios.patch("/api/v1/users/me",Object.fromEntries(form),{headers:{"content-type":"application/json"},validateStatus:null});case 7:if(n=r.sent,data=n.data,e.userForm.isSubmitting=!1,!data.success){r.next=16;break}return e.userForm.isSuccess=!0,r.next=14,e.$store.dispatch("updateUser",{$axios:e.$axios});case 14:r.next=17;break;case 16:e.userForm.errors=f()(Object.values(data.errors));case 17:case"end":return r.stop()}}),r)})))()},onSubmitTeam:function(t){var e=this;return Object(m.a)(regeneratorRuntime.mark((function r(){var form,n,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),form=new FormData(t.target),e.teamForm.isSubmitting=!0,e.teamForm.isSuccess=!1,e.teamForm.errors=[],r.next=7,e.$axios.patch("/api/v1/teams/me",Object.fromEntries(form),{headers:{"content-type":"application/json"},validateStatus:null});case 7:if(n=r.sent,data=n.data,e.teamForm.isSubmitting=!1,!data.success){r.next=16;break}return e.teamForm.isSuccess=!0,r.next=14,e.$store.dispatch("updateTeam",{$axios:e.$axios});case 14:r.next=17;break;case 16:e.teamForm.errors=f()(Object.values(data.errors));case 17:case"end":return r.stop()}}),r)})))()}}},_=w,y=(r(643),r(60)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"Settings"},[t._m(0),t._v(" "),e("div",{staticClass:"subtitle"},[t._v("\n\t\tUser settings\n\t")]),t._v(" "),e("form",{attrs:{id:"user-settings-form",method:"post","accept-charset":"utf-8",autocomplete:"off",role:"form"},on:{submit:t.onSubmitUser}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-name-input"}},[t._v("\n\t\t\t\tUser Name\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.name,expression:"userForm.name"}],staticClass:"form-control",attrs:{id:"user-name-input",type:"text",name:"name"},domProps:{value:t.userForm.name},on:{input:function(e){e.target.composing||t.$set(t.userForm,"name",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-email-input"}},[t._v("\n\t\t\t\tEmail\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.email,expression:"userForm.email"}],staticClass:"form-control",attrs:{id:"user-email-input",type:"email",name:"email"},domProps:{value:t.userForm.email},on:{input:function(e){e.target.composing||t.$set(t.userForm,"email",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-confirm-input"}},[t._v("\n\t\t\t\tCurrent Password\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.confirm,expression:"userForm.confirm"}],staticClass:"form-control",attrs:{id:"user-confirm-input",type:"password",name:"confirm"},domProps:{value:t.userForm.confirm},on:{input:function(e){e.target.composing||t.$set(t.userForm,"confirm",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-password-input"}},[t._v("\n\t\t\t\tNew Password\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.password,expression:"userForm.password"}],staticClass:"form-control",attrs:{id:"user-password-input",type:"password",name:"password"},domProps:{value:t.userForm.password},on:{input:function(e){e.target.composing||t.$set(t.userForm,"password",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-affiliation-input"}},[t._v("\n\t\t\t\tAffiliation\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.affiliation,expression:"userForm.affiliation"}],staticClass:"form-control",attrs:{id:"user-affiliation-input",type:"text",name:"affiliation"},domProps:{value:t.userForm.affiliation},on:{input:function(e){e.target.composing||t.$set(t.userForm,"affiliation",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-website-input"}},[t._v("\n\t\t\t\tWebsite\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.website,expression:"userForm.website"}],staticClass:"form-control",attrs:{id:"user-website-input",type:"url",name:"website"},domProps:{value:t.userForm.website},on:{input:function(e){e.target.composing||t.$set(t.userForm,"website",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"user-country-input"}},[t._v("\n\t\t\t\tCountry\n\t\t\t")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.userForm.country,expression:"userForm.country"}],staticClass:"form-control",attrs:{id:"user-country-input",name:"country"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.userForm,"country",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}}),t._v(" "),t._l(t.countries,(function(r){var o=Object(n.a)(r,2),code=o[0],m=o[1];return e("option",{key:code,domProps:{value:code}},[t._v("\n\t\t\t\t\t"+t._s(m)+"\n\t\t\t\t")])}))],2)]),t._v(" "),e("div",{staticClass:"form-group"},[t.userForm.isSubmitting?e("pulse-loader",{attrs:{color:"white"}}):e("button",{attrs:{id:"user-submit",type:"submit",tabindex:"5"}},[t._v("\n\t\t\t\tSubmit\n\t\t\t")])],1),t._v(" "),e("div",{staticClass:"result"},[t.userForm.isSuccess?e("span",{staticClass:"success"},[t._v("\n\t\t\t\tYour profile has been updated\n\t\t\t")]):t._e(),t._v(" "),t.userForm.errors.length>0?e("ul",{staticClass:"errors"},t._l(t.userForm.errors,(function(r){return e("li",{key:r},[t._v("\n\t\t\t\t\t"+t._s(r)+"\n\t\t\t\t")])})),0):t._e()])]),t._v(" "),t.isInTeam?e("div",{staticClass:"subtitle"},[t._v("\n\t\tTeam settings\n\t")]):t._e(),t._v(" "),t.isInTeam?e("form",{attrs:{id:"team-settings-form",method:"post","accept-charset":"utf-8",autocomplete:"off",role:"form"},on:{submit:t.onSubmitTeam}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"team-name-input"}},[t._v("\n\t\t\t\tTeam Name\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.name,expression:"teamForm.name"}],staticClass:"form-control",attrs:{id:"team-name-input",type:"text",name:"name"},domProps:{value:t.teamForm.name},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"name",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"team-confirm-input"}},[t._v("\n\t\t\t\tCurrent Password\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.confirm,expression:"teamForm.confirm"}],staticClass:"form-control",attrs:{id:"team-confirm-input",type:"password",name:"confirm"},domProps:{value:t.teamForm.confirm},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"confirm",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"team-password-input"}},[t._v("\n\t\t\t\tNew Password\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.password,expression:"teamForm.password"}],staticClass:"form-control",attrs:{id:"team-password-input",type:"password",name:"password"},domProps:{value:t.teamForm.password},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"password",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"team-affiliation-input"}},[t._v("\n\t\t\t\tAffiliation\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.affiliation,expression:"teamForm.affiliation"}],staticClass:"form-control",attrs:{id:"team-affiliation-input",type:"text",name:"affiliation"},domProps:{value:t.teamForm.affiliation},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"affiliation",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"team-website-input"}},[t._v("\n\t\t\t\tWebsite\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.website,expression:"teamForm.website"}],staticClass:"form-control",attrs:{id:"team-website-input",type:"url",name:"website"},domProps:{value:t.teamForm.website},on:{input:function(e){e.target.composing||t.$set(t.teamForm,"website",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"team-country-input"}},[t._v("\n\t\t\t\tCountry\n\t\t\t")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.teamForm.country,expression:"teamForm.country"}],staticClass:"form-control",attrs:{id:"team-country-input",name:"country"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.teamForm,"country",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}}),t._v(" "),t._l(t.countries,(function(r){var o=Object(n.a)(r,2),code=o[0],m=o[1];return e("option",{key:code,domProps:{value:code}},[t._v("\n\t\t\t\t\t"+t._s(m)+"\n\t\t\t\t")])}))],2)]),t._v(" "),e("div",{staticClass:"form-group"},[t.teamForm.isSubmitting?e("pulse-loader",{attrs:{color:"white"}}):e("button",{attrs:{id:"team-submit",type:"submit",tabindex:"5"}},[t._v("\n\t\t\t\tSubmit\n\t\t\t")])],1),t._v(" "),e("div",{staticClass:"result"},[t.teamForm.isSuccess?e("span",{staticClass:"success"},[t._v("\n\t\t\t\tYour profile has been updated\n\t\t\t")]):t._e(),t._v(" "),t.teamForm.errors.length>0?e("ul",{staticClass:"errors"},t._l(t.teamForm.errors,(function(r){return e("li",{key:r},[t._v("\n\t\t\t\t\t"+t._s(r)+"\n\t\t\t\t")])})),0):t._e()])]):t._e()])}),[function(){var t=this._self._c;return t("h2",{staticClass:"title"},[t("span",[this._v("Settings")])])}],!1,null,null,null);e.default=component.exports}}]);